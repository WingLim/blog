(()=>{var s=class{constructor(){this.themeChangeEvent="colorSchemeChange";this.media=window.matchMedia("(prefers-color-scheme: dark)");this.bindMatchMedia()}dispatchEvent(e){let t=new CustomEvent(this.themeChangeEvent,{detail:e});window.dispatchEvent(t)}setScheme(e){document.documentElement.dataset.scheme=e,this.dispatchEvent(e)}bindMatchMedia(){this.media.addEventListener("change",e=>{e.matches?this.setScheme("dark"):this.setScheme("light")})}},a=s;var n=class{constructor(){this.button=document.querySelector(".nav-toggle");this.header=document.querySelector(".header");this.navElem=document.querySelector(".navigation");this.bindMenuButton()}toggleMenu(){this.header.classList.contains("active")?(this.header.classList.remove("active"),this.button.classList.remove("active")):(this.header.classList.add("active"),this.button.classList.add("active"))}toggleHeight(e){e?(this.navElem.style.height="auto",this.navElem.style.height=window.getComputedStyle(this.navElem).height):this.navElem.style.height="0"}bindMenuButton(){this.button.addEventListener("click",()=>{this.toggleMenu()})}},r=n;var m="h2, h3, h4",c=class{constructor(){this.tocElem=document.querySelector("#TableOfContents");this.content=document.querySelector(".post-content");this.tocElem&&(this.foldUl(),this.bindScroll())}foldUl(){this.tocElem.querySelectorAll("ul").forEach(e=>{e.querySelectorAll("li").forEach(t=>{t.querySelectorAll("ul").forEach(i=>{i.style.display="none"})})})}showTable(e){if(this.findParents(e).forEach(t=>{t.style.display="block"}),e.nextElementSibling){let t=e.nextElementSibling;t.style.display="block"}}findParents(e){let t=[];for(;e&&e!==this.tocElem;e=e.parentElement)e.tagName.toLowerCase()=="ul"&&t.push(e);return t}removeClass(e){this.tocElem.querySelectorAll("a").forEach(t=>{t.classList.remove(e)})}handleToc(){let e=this.content.querySelectorAll(m);e.length>0&&e.forEach(t=>{let i=t;if(document.documentElement.scrollTop>=i.offsetTop-100){let d=i.getAttribute("id");this.removeClass("active"),this.foldUl();let l=this.tocElem.querySelector('[href="#'+d+'"]');l&&(l.classList.add("active"),this.showTable(l))}})}bindScroll(){window.addEventListener("scroll",()=>{this.handleToc()})}},h=c;var u=()=>{new a,new r,new h};window.addEventListener("load",()=>{setTimeout(function(){u()},0)});})();
